# 데이터 베이스 구조

  - 데이터 베이스의 구조는 데이터의 저장 및 활용 방식에 지대한 영향을 미치므로, 데이터베이스 구조의 발전 단계에 대해 간략히 알아본다.

 - 클라우드 컴퓨팅의 발전으로 인한 '분산형 데이터 베이스', '빅데이터 데이터 베이스', 그리고 현재 많은 주목을 받고 있는 '클라우드 네이티브 데이터 베이스'에 대해 자세히 알아보고자 한다.

<br>
<br>
<br>

## 1. 초창기 데이터베이스 모델

### 계층형 데이터 베이스와 네트워크형 데이터 베이스

> 관계형 데이터베이스 모델이 나오기 전까지 계층형(Hierarchial) 데이터 베이스와 네트워크형(Network) 데이터 베이스 모델이 일반적으로 사용되었다


#### 계층형 데이터 베이스 모델
![image](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fkz1LQ%2FbtrcIUGPUjM%2FyTlgNt6gXeXCyVBaKEWQY1%2Fimg.png)
- 거꾸로 된 트리형태의 데이터베이스.
- 복잡한 관계를 지원하기 어려워 중복 데이터가 발생하기 쉽다. 

<br>

#### 네트워크형 데이터 베이스 모델
![imaga](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FqdI60%2FbtrcEMiL1xc%2F9sLFwxpjQVy1jLCqSKSEp1%2Fimg.png)

- Node 와 집합구조(set structure)로 이루어져 있으며, 하나의 Node는 다른 Node와 1대1의 관계를 맺는다.
- 레코드가 많아질수록 데이터간 관계 표현이 복잡해진다.
- 한 데이터에 대해 여러 경로로 접근 가능하기 떄문에 데이터의 추가/삭제 과정에서 일관성이 깨질 수 있다.


<br>
<br>
<br>

## 2. 관계형 데이터 베이스

>  데이터를 연결되지 않은 개별 파일로 저장했던 이전 모델들과 달리 **테이블 형태**의 데이터 저장 모델이 첫 등장하게 되었다. 대량의 데이터를 구조화시켜 관리하기 용이하므로 여전히 많은 기업들이 데이터 관리 모델로 채택하고 있다

<br>

![image](https://www.fun-coding.org/00_Images/rdbms_keys.png)

- 기본키(primary key)와 외래키(foreign key)로 테이블 간의 관계를 설정할 수 있다.
- 데이터의 저장형태가 직관적이며, 인덱스를 통해 각 데이터(레코드)에 쉽게 접근할 수 있다.
- 기존 데이터 구조/애플리케이션에 영향을 주지 않고 데이터의 CRUD가 용이하다.

<br>
<br>
<br>

## 3. 객체 지향 데이터 베이스

> 정보를 객체의 형태로 표현하는 데이터베이스 모델이다. 오디오, 비디오 등 멀티미디어 데이터 및 복잡한 비정형 데이터의 저장을 위해 프로그래밍의 **객체지향**기술을 접목하게 되었다. 각 데이터는 하나의 객체로 저장되며, 객체들간 관계는 포인팅(고유한 식별자인 pointer로 객체간 관계 정의)으로 표현한다. 

<br>

![image](https://cdn.comworld.co.kr/news/photo/201505/48790_27746_030.jpg)

출처:(https://www.comworld.co.kr/news/articleView.html?idxno=48790)

- 사용자가 임의로 정의한 데이터 유형 및 비정형 데이터(멀티미디어, 이메일, 문서 등)의 모델링이 가능하다.
-  데이터와 연관된 메서드를 같이 저장할 수 있다. 
- 프로그램과 구조가 유사해서 개발자들 입장에서 데이터베이스와 프로그램 간 추가적인 변환 작업이 불필요하다. 


**-> 현재에 이르러서는 객체지향 DBMS 대신 RDBMS(오라클 DB,MySQL 등)에 객체 지향개념을 도입하여 데이터를 관리하고 있다(이하 참고)**

<br>

### 객체 지향 프로그래밍과 관계형 DB의 충돌

> *" 객체지향DB가 빠르게 발전해 나가자 DB업계의 공룡기업 오라클(Oracle)이 본격적으로 앞에 나서기 시작했다. 오라클은 객체관계DB(Object Relational Database) 콘셉트를 제시하며, 새로 출시하게 될 Oracle8이 객체관계DB라고 널리 선전했다. 상황이 이렇게 전개되자 관계형 데이터베이스에 익숙한 사용자, 개발자, 전산실 관리자들은 객체지향DB에 대한 관심을 접어 버리기에 이른다."*
<br> *출처 : '[IT산업 20년 전] 객체지향 데이터베이스의 몰락' (http://www.comworld.co.kr)*

객체지향 데이터베이스가 시장에 제대로 안착하지 못한 것 이외에도 
  - 포인터를 사용한 인덱싱의 어려움
  - 대규모 데이터베이스 조회시 필요한 객체들을 순회하는 과정에서 오버헤드로 인한 성능저하 문제

  등이 발생한 바 있다. 이에 객체를 RDBMS에 저장하기 위해 **객체->SQL 변환->RDB에 저장** 이라는 과정을 거치게 되었다. 

<br>

#### (참고) 연관관계로 본 객체와 테이블의 차이
![image](https://velog.velcdn.com/images/ke2007/post/ae0a85a1-db87-400a-85a6-1adbe87fbb8e/image.png)

- 객체는 Member 에서 Team 으로 직접 참조
- 테이블은 외래키FK를 통해 MEMBER에서 TEAM 테이블에 접근

<br>

위 (참고)를 고려하면 RDBMS에 객체지향개념을 반영하려고 할때 어떤 문제들이 생기는지 짐작할 수 있다. (이하 gpt 약간 참고)
  1. **매핑 복잡성 증가**| 객체간의 관계를 외래키로 맵핑하기 때문에 복잡성이 증가한다. 

  2. **성능저하**| 객체간 관계를 테이블 JOIN으로 표현하기 때문에 대규모 데이터 조작시 성능 저하가 올 수 있다. 

  3. **무결성 제약조건 어려움**| 객체간의 연관관계를 RDBMS의 제약조건으로 표현하고 관리하기 어려울 수 있다. (상속, 다형성 등... )

  4. **트랜젝션 관리 어려움**| 객체간의 연쇄동작이 하나의 트랜젝션으로 처리 되지 않을 수 있다 .

<br>

#### * ORM의 등장 *
> 위의 문제들을 해결하기 위해 우리가 쓰는 **ORM(Object Relational Mapping)** 프로그래밍 기술이 등장했다.
<br> 

클래스(우리가 쓰는 django의 model.py)를 이용하면 SQL이 자동으로 생성되어 객체들을 데이터 베이스로 매핑해준다! 

<br>
<br>


<br>

## 4. NoSQL & NewSQL DBMS

> 본격적으로 전통적 RDBMS에서 벗어나 다양한 형태의 데이터 모델을 지원하는 DBMS 이다. 대량의 비저형 데이터를 처리하는데 유용하다.

### NoSQL
 - 데이터 구조를 미리 정해놓지 않음 
 - 대규모 데이터 처리 및 유연한 스키마가 필요한 경우 활용

### NewSQL DBMS
  - ACID 속성 유지하면서도 확장가능한 트랜잭션 처리가 필요한 경우
  - NoSQL 로는 RDBMS 를 완벽하게 대체하기에 부족하여 추가로 등장

<br>
<br>
<br>



## 참고용 추가 자료
이하는 데이터의 구조 설계보다는 저장,제공,관리와 관련된 데이터베이스모델이다. 

#### *분산 데이터베이스
> 데이터를 여러 위치에 분산하여 저장하고 분산된 데이터들을 하나의 데이터베이스처럼 관리하는 시스템이다. 

#### *클라우드 네이티브 데이터베이스
>  데이터를 로컬이 아닌 원격 서버에 저장하고, 사용자는 인터넷을 통해 데이터에 접근하는 방식이다. 여러 기업들이 웹을 통해 서비스를 제공하고 있다. 