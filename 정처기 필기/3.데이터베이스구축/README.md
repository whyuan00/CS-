# 데이터베이스 구축

## Ch1. SQL 응용

### 1. 절차형 SQL 작성

#### 01. SQL 문법

- Structured Query Lanuage : 구조화 질의어
- SQL 문법은 데이터베이스를 접근하고 조작하는 데 필요한 표준 언어를 활용할 수 있게 해주는 규칙이다.
- SQL 문법의 분류
  - 데이터 정의어 DDL
  - 데이터 조작어 DML; Data Manipulation Language
  - 데이터 제어어 DCL; Data Control Language

### 2. 응용 SQL 작성

#### 02. 데이터 조작어 (DML)

- 데이터 조작어는 데이터베이스에 저장된 자료들을 입력, 수정, 삭제, 조회하는 언어이다.
- 데이터 조작어의 유형
  - SELECT
  - INSERT
  - UPDATE
  - DELETE

#### 03. 데이터 제어기 (DCL)

- 데이터 제어기는 DB 관리자가 데이터 보안, 무결성 유지, 병행 제어, 회복을 위해 사용하는 언어이다.
- 데이터 제어기의 기능
  - 데이터 보안
  - 무결성 유지
  - 병행수행 제어
  - 회복

#### 04. 윈도 함수 Window function

- 윈도 함수는 행과 행 간의 관계를 쉽게 정의하기 위해 만든 함수이다.
- 데이터베이스를 사용한 온라인 분석 처리 용도로 사용하기 위해서 SQL에 추가된 기능으로 OLAP(On-Line Analylical Processing) 함수라고도 한다.

#### 05. OLAP (On-Line Analytical Processing)

OLAP은 사용자가 동일한 데이터를 여러 기준을 이용하는 다양한 방식으로 바라보면서 다차원 데이터 분석을 할 수 있도록 도와주는 의사결정 지원 시스템이다.

Roll-up, Drill-Down, Slicing, Dicing, Pivoting이 있다.

## Ch2. SQL 활용

### 1. 기본 SQL 작성

#### 06. 데이터 정의어 (DDL)

- 데이터 정의어는 데이터를 정의하는 언어로서 '데이터를 담는 그릇을 정의하는 언어'이다. 또한 테이블과 같은 데이터 구조를 정의하는 데 사용되는 명령어이다.
- DDL의 대상 : 도메인, 스키마, 테이블, 뷰, 인덱스

#### 07. 스키마 (Schema)

데이터 베이스의 구조, 제약조건 등의 정보를 담고 있는 기본적인 구조

외부 스키마, 내부 스키마, 개념 스키마가 있음

#### 08. 트랜젝션(Transaction)

- 데이터베이스에서 하나의 기능을 수행하는 논리적인 작업단위
- DB를 안정적으로 보장하기 위해 ACID 원칙을 준수한다.
  - A(atomicity, 원자성)
  - C(consistency, 일관성)
  - I(isolation, 고립성)
  - D(durability, 영속성)

#### 09. 병행 제어 (일관성 주요 기법)

다수 사용자 환경에서 여러 트랜젝션을 수행할 때, 데이터베이스 일관성을 유지하기 위해 상호작용을 제어하는 기법이다.

데이터베이스 공유 최대화, 시스템 활용도 최대화, 데이터베이스의 일관성 유지, 사용자에 대한 응답시간 최소화를 목표로 수행한다.

#### 10. 로킹

    🔸 병행 제어 기법 중 하나로, 하나의 트랜잭션이 실행하는 동안 특정 데이터 항목에 대해서 다른 트랜잭션이 동시에 접근하지 못하도록 상호 배제(Mutual Experience) 기능을 제공하는 기법

    🔸 로킹 단위가 작아지면 데이터베이스 공유 증가 & 로킹 오버헤드 증가

#### 11. 회복 기법 (영속성 주요 기법)

트랜젝션을 수행하는 도중 장애로 인해 손상된 데이터베이스를 손상되기 이전의 정상상태로 복구시키는 작업이다.

회복 기법의 종류에는 로그 기반 회복 기법, 체크 포인트 회복 기법, 그림자 페이징 회복 기법이 있다.

#### 12. 트랜젝션 제어 (TCL : Transaction Control Language)

트랜젝션의 결과를 허용하거나 취소하는 목적으로 사용되는 언어이다.

트랜젝션 제어의 종류로는 커밋(commit), 콜백(callback), 체크포인트(checkpoint)가 있다.

### 2. 고급 SQL 작성

#### 13. DBMS와 인덱스

- 인덱스란 DBMS에서 테이블 검색 속도를 향상시키기 위한 자료구조
- 인덱스를 통해 특정 레코드의 위치를 알 수 있다.
  - 기본키(Primarykey) 칼럼은 자동으로 인덱스가 생성,
  - 사용자가 직접 인덱싀를 생성할 칼럼을 (2개이상도 가능) 지정해서 생성할 수 있음

![image](https://velog.velcdn.com/images/kth121211/post/992653b7-1987-42a6-9d05-c84f842b4fef/image.png)
※ 이미지는 name 필드로 인덱스를 생성한 경우로, location(=pk) 에 해당 자료의 위치가 저장되어 있다.

## Ch3. 논리 데이터베이스 설계

### 1. 관계 데이터베이스 모델

#### 14. 시스템 카탈로그

    🔸 데이터베이스에 저장되는 테이블, 뷰, 인덱스, 접근 권한 등에 대한 정보를 저장하는 데이터베이스
    🔸 자료사전(Data Dictionary)라고도 부름
    🔸 시스템 카탈로그에 저장된 정보들 = 메타 데이터

### 2. 데이터 모델링 및 설계

#### 15. 데이터 베이스 정규화(DB Normalization)

- 데이터의 일관성과 정확성을 유지하기 위해 데이터모델을 설계하고 유지하는 과정
- 데이터의 중복성 및 이상현상의 방지를 목적으로 함
  - 이상현상이란 데이터 조작시 데이터들이 불필요하게 중복되어 문제가 발생하는 현상
  - 정규화 단계는 총 6단계(1NF/2NF/3NF/보이스-코드/4NF/5NF)로 특정 조건을 충족해야 해당 단계를 달성할 수 있음

#### 16. 이상 현상(Anomaly)

    🔸 릴레이션 조작 시 데이터들이 불필요하게 중복되어 예기치 않게 발생하는 곤란한 현상
    🔸 종류 : 삽입, 삭제, 갱신 이상

## Ch4. 물리 데이터베이스 설계

### 1. 물리 요소 조사 분석

#### 17. 분산 데이터베이스

- 여러 컴퓨터(서버)에 데이터를 분산 저장하고 네트워크를 통해 통합적으로 연결, 관리하는 시스템
- 복잡성 문제, 데이터베이스간 교류로 인한 오버헤드(성능저하)문제, 개발비용 증가 등의 문제를 단점으로 가짐

#### 18. 접근제어(Access Control)

- 데이터의 보안,보호를 위한 기법으로 접근제어정책/접근제어 메커니즘/접근제어 보안 모델로 구성되어 있다
  - 접근제어정책: 사용자의 권한 및 역할과 관련하여 접근 모드나 접근 조건을 지정
  - 접근제어 메커니즘: 새로운 접근을 이전에 정해둔 접근제어 메커니즘과 비교하여 불법접근 방어
  - 접근제어 보안모델: 특정 요구 명세로부터 출발한 기능 중심의 모델

### 2. DB 물리 속성 설계

#### 19. 파티셔닝

    🔸 대용량의 테이블을 파티션(Partition)이라는 보다 작은 논리적인 단위로 나눔으로써 성능 저하 방지 및 관리를 상대적으로 보다 용이하게 하고자 하는 기법
    🔸 장점: 분산 -> 데이터 훼손 가능성 감소, 데이터 가용성 향상, 관리 편함, 성능 향상

### 3. 데이터베이스 무결성과 키

#### 20. 데이터 무결성

    🔸 데이터베이스에 저장된 데이터 값과 그것이 표현하는 현실 세계의 실제 값이 일치하는 성질
    🔸 권한이 "있는" 사용자로부터 데이터베이스 보호
    🔸 예시) 개체 무결성 : 한 엔터티에서 같은 기본 키(pk)를 가질 수 없거나, 기본 키의 속성이 Null을 허용할 수 없는 제약조건

### 4. DB 반 정규화
